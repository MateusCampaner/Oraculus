{% load static %}

{% include 'partials/head.html' %}

{% include 'partials/header.html' %}

<style>
  .numeric-input::-webkit-inner-spin-button,
  .numeric-input::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  .numeric-input {
    padding: 4px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 14px;
    width: 50px;
  }

  .hidden {
    display: none;
  }
</style>


<div class="container my-5">
  <div class="mb-5">
    <h1 class="text-body-emphasis">Resultado Análise</h1>

    <div class="my-3 p-3 bg-body rounded shadow-sm">
      <h6 class="border-bottom pb-2 mb-0">Com base nos seus resultados a melhor colheita é:</h6>

      <div class="d-flex text-body-secondary pt-3">
        <div class="pb-3 mb-0 small lh-sm border-bottom w-100">
          <div class="d-flex justify-content-between">

            <h3 class="text-body-emphasis">{{ colheita_prevista }}</h3>

          </div>

        </div>
      </div>

    <br>
    
   <button id="showInfo" class="btn btn-primary rounded-pill px-3 mx-right">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
      <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
      <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
    </svg>
    Ver dados inseridos</button>
   </a>

    <button type=submit class="btn btn-success rounded-pill px-3 mx-right">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-floppy-fill" viewBox="0 0 16 16">
        <path d="M0 1.5A1.5 1.5 0 0 1 1.5 0H3v5.5A1.5 1.5 0 0 0 4.5 7h7A1.5 1.5 0 0 0 13 5.5V0h.086a1.5 1.5 0 0 1 1.06.44l1.415 1.414A1.5 1.5 0 0 1 16 2.914V14.5a1.5 1.5 0 0 1-1.5 1.5H14v-5.5A1.5 1.5 0 0 0 12.5 9h-9A1.5 1.5 0 0 0 2 10.5V16h-.5A1.5 1.5 0 0 1 0 14.5v-13Z"/>
        <path d="M3 16h10v-5.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5V16Zm9-16H4v5.5a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5V0ZM9 1h2v4H9V1Z"/>
      </svg> Salvar análise
   </button>

   
   
   

  </div>

    <div class="table-responsive small hidden" id="analiseTable">
      <table class="table table-striped table-sm">
        <thead>
          <tr>
            <th scope="col"><img src="../static/img/eyedropper.svg" alt="logo-oraculus" width="16px" height="16px"> Nitrogênio</th>
              <th scope="col"><img src="../static/img/eyedropper.svg" alt="logo-oraculus" width="16px" height="16px"> Fósforo</th>
              <th scope="col"><img src="../static/img/eyedropper.svg" alt="logo-oraculus" width="16px" height="16px"> Potássio</th>
              <th scope="col"><img src="../static/img/thermometer-half.svg" alt="logo-oraculus" width="16px" height="16px"> Temperatura</th>
              <th scope="col"><img src="../static/img/droplet-half.svg" alt="logo-oraculus" width="16px" height="16px"> Umidade</th>
              <th scope="col"><img src="../static/img/moisture.svg" alt="logo-oraculus" width="16px" height="16px"> ph</th>
              <th scope="col"><img src="../static/img/cloud-rain-fill.svg" alt="logo-oraculus" width="16px" height="16px"> Chuva</th>
          </tr>
        </thead>
        <tbody>
          <form action="{% url 'salvar_algoritmo_analise' %}" method="POST">

            {% csrf_token %}
          <tr>
            <td><input class="numeric-input" type="number" value="{{ N }}" readonly></td>
            <td><input class="numeric-input" type="number" value="{{ P }}" readonly></td>
            <td><input class="numeric-input" type="number" value="{{ K }}" readonly></td>
            <td><input class="numeric-input" type="number" value="{{ Temperatura }}" readonly></td>
            <td><input class="numeric-input" type="number" value="{{ Umidade }}" readonly></td>
            <td><input class="numeric-input" type="number" value="{{ pH }}" readonly></td>
            <td><input class="numeric-input" type="number" value="{{ Chuva }}" readonly></td>
          </tr>

        </form>
      </tbody>
      </table>

    </div>

    <hr>

      <h4 class="text-body-emphasis pt-3 pb-1">Acurácia: 97.8%</h4>

              <hr>

              <h4 class="text-body-emphasis pt-3 pb-1">Score-z dos valores</h4>

              <div class="table-responsive small">
                <table class="table table-striped table-sm tabela-dados">
                  <thead>
                    <tr>
                      <th scope="col"><img src="../static/img/eyedropper.svg" alt="logo-oraculus" width="16px" height="16px"> Nitrogênio</th>
                      <th scope="col"><img src="../static/img/eyedropper.svg" alt="logo-oraculus" width="16px" height="16px"> Fósforo</th>
                      <th scope="col"><img src="../static/img/eyedropper.svg" alt="logo-oraculus" width="16px" height="16px"> Potássio</th>
                      <th scope="col"><img src="../static/img/thermometer-half.svg" alt="logo-oraculus" width="16px" height="16px"> Temperatura</th>
                      <th scope="col"><img src="../static/img/droplet-half.svg" alt="logo-oraculus" width="16px" height="16px"> Umidade</th>
                      <th scope="col"><img src="../static/img/moisture.svg" alt="logo-oraculus" width="16px" height="16px"> ph</th>
                      <th scope="col"><img src="../static/img/cloud-rain-fill.svg" alt="logo-oraculus" width="16px" height="16px"> Chuva</th>
                    </tr>
                  </thead>
                  <tbody>
                
                      <tr>
                        <td><input class="numeric-input" type="number" name="N" value="{{analises.N}}" readonly></td>
                        <i class="bi bi-p-square"></i><td><input class="numeric-input" type="number" name="P" value="{{analises.P}}" readonly></td>
                        <td><input class="numeric-input" type="number" name="K" value="{{analises.K}}" readonly></td>
                        <td><input class="numeric-input" type="float" name="Temperatura" value="{{analises.Temperatura}}" readonly></td>
                        <td><input class="numeric-input" type="float" name="Umidade" value="{{analises.Umidade}}" readonly></td>
                        <td><input class="numeric-input" type="float" name="pH" value="{{analises.pH}}" readonly></td>
                        <td><input class="numeric-input" type="float" name="Chuva" value="{{analises.Chuva}}" readonly></td>
                      </tr>
        
                  </tbody>
                </table>
              </div>

  </div>
</div>



<script>
  const sendInfoButton = document.getElementById('showInfo');
  const recommendationTable = document.getElementById('analiseTable');

  sendInfoButton.addEventListener('click', () => {
    recommendationTable.classList.toggle('hidden');
  });

  document.getElementById("showInfo").addEventListener("click", function() {
    var icon = document.getElementById("icon");
    if (icon.classList.contains("bi-eye")) {
        icon.classList.remove("bi-eye");
        icon.classList.add("bi-eye-slash");
    } else {
        icon.classList.remove("bi-eye-slash");
        icon.classList.add("bi-eye");
    }
});
</script>

{% include 'partials/footer.html' %}